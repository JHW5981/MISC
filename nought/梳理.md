<h1><font face="黑体" size=10 color=white>2024.2.26 Nougat/train.py</font></h1>
<font face="宋体" size=5 color=white>
<ul>
    <li>主要部分是`train`函数，这个函数只有一个参数，`cfg`，所有内容定义在`cfg`中，把`cfg`传给`train`就可以直接训练，值得学习
    </li>
    <li>`train`中先设置随机种子，然后定义模型和数据集，再定义各种回调函数，包括学习率回调、checkpoint回调、自定义的梯度监测回调。然后就是logger，接着就是使用lightning.pytorch中的训练框架，进行定义及训练
    </li>
    <li>细节部分就是各种自定义的回调函数如何定义以及各种接口如何使用的。这个是需要好好研究的部分。
    </li>
</ul>
</font>

<h1><font face="黑体" size=10 color=white>2024.2.27 Nougat/test.py</font></h1>
<font face="宋体" size=5 color=white>
<ul>
    <li>`test.py`中只有一个函数test，入口是args，返回模型预测的结果。</li>
    <li>先定义了模型，导入checkpoint，将模型设置为`eval`模式，接着make test结果的文件夹，然后准备数据集，dataloader，然后就是for循环里依次将每个batch喂到模型里，将产生的结果送到get_metric函数计算指标，保存指标，返回预测结果。</li>
    <li>里面有个多线程并行的内容值的学习一下，Pool池去做的，写在csdn中了，但是我实验出来并行花的时间更多不知道什么情况。</li>
</ul>
</font>